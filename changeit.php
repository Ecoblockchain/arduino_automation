<?php//Change these variables to the ip address and port of your arduino$host = '192.168.1.166';$port = 23;//The $package variable is what gets sent to the arduinoif ($_POST["status"] == "on")	{	$package = "1";	changeState($package, $host, $port);	echo "You have turned it ON";	}if ($_POST["status"] == "off")	{	$package = "0";	changeState($package, $host, $port);	echo "You have turned it OFF";	}if ($_POST["status"] == "check")	{	$package = "9";	checkState($package, $host, $port);	}////////////////////////////////////FUNCTIONSfunction checkState ($package, $host, $port)	{	$timeout =1;	//This code connects to the arduino and sends a packet with a value of '9'.  The arduino launched certain functiosn based on this number code	$socket  = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);	socket_set_option($socket, SOL_SOCKET, SO_RCVTIMEO, array('sec' => $timeout, 'usec' => 0));	socket_connect($socket, $host, $port);	$ts = microtime(true);	socket_send($socket, $package, strLen($package), 0);			$buf = 'This is my buffer.';	if (false !== ($bytes = socket_read($socket, 2048))) {		echo "The current state is: $bytes";	} else {		echo "socket_recv() failed; reason: " . socket_strerror(socket_last_error($socket)) . "\n";		}	socket_close($socket);	}function changeState ($package, $host, $port)	{	//This code sends a packet to the Arduino with a value of '1' or '0'.  The arduino launches a function based on what number is given	$timeout =1;	$socket  = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);	socket_set_option($socket, SOL_SOCKET, SO_RCVTIMEO, array('sec' => $timeout, 'usec' => 0));	socket_connect($socket, $host, $port);	$ts = microtime(true);	socket_send($socket, $package, strLen($package), 0);	socket_close($socket);	}	?>